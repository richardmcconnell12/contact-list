(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
const contactCollection = {
  getAllContacts() {
    return fetch("http://localhost:8088/contact").then(response => response.json());
  },

  postNewContact(newContactToSave) {
    fetch("http://localhost:8088/contact", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(newContactToSave)
    });
    location.reload(true);
  }

};
var _default = contactCollection;
exports.default = _default;

},{}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _contactCollection = _interopRequireDefault(require("./contactCollection"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const contactForm = {
  // time to build the HTML Form
  createAndAppendForm() {
    let formHeader = document.createElement("h3");
    formHeader.textContent = "Add a new contact";
    let contactNameField = document.createElement("fieldset");
    let contactNameLabel = document.createElement("label");
    contactNameLabel.textContent = "Name";
    contactNameLabel.setAttribute("for", "contactName");
    let contactNameInput = document.createElement("input");
    contactNameInput.setAttribute("id", "contactName");
    contactNameInput.setAttribute("name", "contactName");
    contactNameField.appendChild(contactNameLabel);
    contactNameField.appendChild(contactNameInput);
    let contactAddressField = document.createElement("fieldset");
    let contactAddressLabel = document.createElement("label");
    contactAddressLabel.textContent = "Address";
    contactAddressLabel.setAttribute("for", "contactAddress");
    let contactAddressInput = document.createElement("input");
    contactAddressInput.setAttribute("id", "contactAddress");
    contactAddressInput.setAttribute("name", "contactAddress");
    contactAddressField.appendChild(contactAddressLabel);
    contactAddressField.appendChild(contactAddressInput);
    let contactNumberField = document.createElement("fieldset");
    let contactNumberLabel = document.createElement("label");
    contactNumberLabel.textContent = "Number";
    contactNumberLabel.setAttribute("for", "contactNumber");
    let contactNumberInput = document.createElement("input");
    contactNumberInput.setAttribute("id", "contactNumber");
    contactNumberInput.setAttribute("name", "contactNumber");
    contactNumberField.appendChild(contactNumberLabel);
    contactNumberField.appendChild(contactNumberInput);
    let submitButton = document.createElement("button");
    submitButton.textContent = "Add contact";
    submitButton.setAttribute = ("class", "contactSave");
    submitButton.addEventListener("click", this.handleAddNewContact);
    let contactFormFragment = document.createDocumentFragment();
    contactFormFragment.appendChild(formHeader);
    contactFormFragment.appendChild(contactNameField);
    contactFormFragment.appendChild(contactAddressField);
    contactFormFragment.appendChild(contactNumberField);
    contactFormFragment.appendChild(submitButton);
    let formArticle = document.querySelector(".form");
    formArticle.appendChild(contactFormFragment);
  },

  handleAddNewContact(event) {
    let inputContactName = document.querySelector("#contactName").value;
    let inputContactAddress = document.querySelector("#contactAddress").value;
    let inputContactNumber = document.querySelector("#contactNumber").value;
    let newContact = {
      name: inputContactName,
      address: inputContactAddress,
      number: inputContactNumber
    };

    _contactCollection.default.postNewContact(newContact);
  }

};
var _default = contactForm;
exports.default = _default;

},{"./contactCollection":1}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _contactCollection = _interopRequireDefault(require("./contactCollection"));

var _contacts = _interopRequireDefault(require("./contacts"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const contactList = {
  contactify() {
    _contactCollection.default.getAllContacts().then(allContacts => {
      let contactDocFragment = document.createDocumentFragment();
      allContacts.forEach(contactItem => {
        let contactHtml = _contacts.default.contactBuilder(contactItem);

        contactDocFragment.appendChild(contactHtml);
      });
      let outputArticle = document.querySelector(".output");
      outputArticle.appendChild(contactDocFragment);
    });
  }

};
var _default = contactList;
exports.default = _default;

},{"./contactCollection":1,"./contacts":4}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
const contact = {
  contactBuilder(contactObject) {
    let contactArticle = document.createElement("article");
    let contactName = document.createElement("h3");
    contactName.textContent = contactObject.name;
    let contactAddress = document.createElement("p");
    contactAddress.textContent = contactObject.address;
    let contactNumber = document.createElement("p");
    contactNumber.textContent = contactObject.number;
    contactArticle.appendChild(contactName);
    contactArticle.appendChild(contactAddress);
    contactArticle.appendChild(contactNumber);
    return contactArticle;
  }

};
var _default = contact;
exports.default = _default;

},{}],5:[function(require,module,exports){
"use strict";

var _contactList = _interopRequireDefault(require("./contactList"));

var _contactForm = _interopRequireDefault(require("./contactForm"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_contactList.default.contactify();

_contactForm.default.createAndAppendForm();

},{"./contactForm":2,"./contactList":3}]},{},[5])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi9zY3JpcHRzL2NvbnRhY3RDb2xsZWN0aW9uLmpzIiwiLi4vc2NyaXB0cy9jb250YWN0Rm9ybS5qcyIsIi4uL3NjcmlwdHMvY29udGFjdExpc3QuanMiLCIuLi9zY3JpcHRzL2NvbnRhY3RzLmpzIiwiLi4vc2NyaXB0cy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FDQUEsTUFBTSxpQkFBaUIsR0FBRztBQUV0QixFQUFBLGNBQWMsR0FBRztBQUNiLFdBQU8sS0FBSyxDQUFFLCtCQUFGLENBQUwsQ0FDTixJQURNLENBQ0QsUUFBUSxJQUFJLFFBQVEsQ0FBQyxJQUFULEVBRFgsQ0FBUDtBQUVILEdBTHFCOztBQU90QixFQUFBLGNBQWMsQ0FBQyxnQkFBRCxFQUFtQjtBQUM3QixJQUFBLEtBQUssQ0FBQywrQkFBRCxFQUFrQztBQUNuQyxNQUFBLE1BQU0sRUFBRSxNQUQyQjtBQUVuQyxNQUFBLE9BQU8sRUFBRTtBQUNMLHdCQUFnQjtBQURYLE9BRjBCO0FBS25DLE1BQUEsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFMLENBQWUsZ0JBQWY7QUFMNkIsS0FBbEMsQ0FBTDtBQU9BLElBQUEsUUFBUSxDQUFDLE1BQVQsQ0FBZ0IsSUFBaEI7QUFDSDs7QUFoQnFCLENBQTFCO2VBbUJlLGlCOzs7Ozs7Ozs7OztBQ25CZjs7OztBQUVBLE1BQU0sV0FBVyxHQUFHO0FBQ2hCO0FBQ0EsRUFBQSxtQkFBbUIsR0FBRztBQUNsQixRQUFJLFVBQVUsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixJQUF2QixDQUFqQjtBQUNBLElBQUEsVUFBVSxDQUFDLFdBQVgsR0FBeUIsbUJBQXpCO0FBRUEsUUFBSSxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixVQUF2QixDQUF2QjtBQUVBLFFBQUksZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsT0FBdkIs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QUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLElBQXZCLENBQWxCO0FBQ0EsSUFBQSxXQUFXLENBQUMsV0FBWixHQUEwQixhQUFhLENBQUMsSUFBeEM7QUFFQSxRQUFJLGNBQWMsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixHQUF2QixDQUFyQjtBQUNBLElBQUEsY0FBYyxDQUFDLFdBQWYsR0FBNkIsYUFBYSxDQUFDLE9BQTNDO0FBRUEsUUFBSSxhQUFhLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsR0FBdkIsQ0FBcEI7QUFDQSxJQUFBLGFBQWEsQ0FBQyxXQUFkLEdBQTRCLGFBQWEsQ0FBQyxNQUExQztBQUVBLElBQUEsY0FBYyxDQUFDLFdBQWYsQ0FBMkIsV0FBM0I7QUFDQSxJQUFBLGNBQWMsQ0FBQyxXQUFmLENBQTJCLGNBQTNCO0FBQ0EsSUFBQSxjQUFjLENBQUMsV0FBZixDQUEyQixhQUEzQjtBQUVBLFdBQU8sY0FBUDtBQUNIOztBQW5CVyxDQUFoQjtlQXNCZSxPOzs7Ozs7QUN0QmY7O0FBQ0E7Ozs7QUFFQSxxQkFBWSxVQUFaOztBQUNBLHFCQUFZLG1CQUFaIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiY29uc3QgY29udGFjdENvbGxlY3Rpb24gPSB7XG5cbiAgICBnZXRBbGxDb250YWN0cygpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoIChcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9jb250YWN0XCIpXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICB9LFxuXG4gICAgcG9zdE5ld0NvbnRhY3QobmV3Q29udGFjdFRvU2F2ZSkge1xuICAgICAgICBmZXRjaChcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9jb250YWN0XCIsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShuZXdDb250YWN0VG9TYXZlKVxuICAgICAgICB9KVxuICAgICAgICBsb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb250YWN0Q29sbGVjdGlvbiIsImltcG9ydCBjb250YWN0Q29sbGVjdGlvbiBmcm9tIFwiLi9jb250YWN0Q29sbGVjdGlvblwiXG5cbmNvbnN0IGNvbnRhY3RGb3JtID0ge1xuICAgIC8vIHRpbWUgdG8gYnVpbGQgdGhlIEhUTUwgRm9ybVxuICAgIGNyZWF0ZUFuZEFwcGVuZEZvcm0oKSB7XG4gICAgICAgIGxldCBmb3JtSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgICAgICBmb3JtSGVhZGVyLnRleHRDb250ZW50ID0gXCJBZGQgYSBuZXcgY29udGFjdFwiXG5cbiAgICAgICAgbGV0IGNvbnRhY3ROYW1lRmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIik7XG5cbiAgICAgICAgbGV0IGNvbnRhY3ROYW1lTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgICAgIGNvbnRhY3ROYW1lTGFiZWwudGV4dENvbnRlbnQgPSBcIk5hbWVcIlxuICAgICAgICBjb250YWN0TmFtZUxhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBcImNvbnRhY3ROYW1lXCIpXG4gICAgICAgIGxldCBjb250YWN0TmFtZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBjb250YWN0TmFtZUlucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiY29udGFjdE5hbWVcIilcbiAgICAgICAgY29udGFjdE5hbWVJbnB1dC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIFwiY29udGFjdE5hbWVcIilcblxuICAgICAgICBjb250YWN0TmFtZUZpZWxkLmFwcGVuZENoaWxkKGNvbnRhY3ROYW1lTGFiZWwpO1xuICAgICAgICBjb250YWN0TmFtZUZpZWxkLmFwcGVuZENoaWxkKGNvbnRhY3ROYW1lSW5wdXQpO1xuXG4gICAgICAgIGxldCBjb250YWN0QWRkcmVzc0ZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpO1xuXG4gICAgICAgIGxldCBjb250YWN0QWRkcmVzc0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgICAgICBjb250YWN0QWRkcmVzc0xhYmVsLnRleHRDb250ZW50ID0gXCJBZGRyZXNzXCJcbiAgICAgICAgY29udGFjdEFkZHJlc3NMYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJjb250YWN0QWRkcmVzc1wiKVxuICAgICAgICBsZXQgY29udGFjdEFkZHJlc3NJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgY29udGFjdEFkZHJlc3NJbnB1dC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImNvbnRhY3RBZGRyZXNzXCIpXG4gICAgICAgIGNvbnRhY3RBZGRyZXNzSW5wdXQuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcImNvbnRhY3RBZGRyZXNzXCIpXG5cbiAgICAgICAgY29udGFjdEFkZHJlc3NGaWVsZC5hcHBlbmRDaGlsZChjb250YWN0QWRkcmVzc0xhYmVsKTtcbiAgICAgICAgY29udGFjdEFkZHJlc3NGaWVsZC5hcHBlbmRDaGlsZChjb250YWN0QWRkcmVzc0lucHV0KTtcblxuICAgICAgICBsZXQgY29udGFjdE51bWJlckZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpO1xuXG4gICAgICAgIGxldCBjb250YWN0TnVtYmVyTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgICAgIGNvbnRhY3ROdW1iZXJMYWJlbC50ZXh0Q29udGVudCA9IFwiTnVtYmVyXCJcbiAgICAgICAgY29udGFjdE51bWJlckxhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBcImNvbnRhY3ROdW1iZXJcIilcbiAgICAgICAgbGV0IGNvbnRhY3ROdW1iZXJJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgY29udGFjdE51bWJlcklucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiY29udGFjdE51bWJlclwiKVxuICAgICAgICBjb250YWN0TnVtYmVySW5wdXQuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcImNvbnRhY3ROdW1iZXJcIilcblxuICAgICAgICBjb250YWN0TnVtYmVyRmllbGQuYXBwZW5kQ2hpbGQoY29udGFjdE51bWJlckxhYmVsKTtcbiAgICAgICAgY29udGFjdE51bWJlckZpZWxkLmFwcGVuZENoaWxkKGNvbnRhY3ROdW1iZXJJbnB1dCk7XG5cbiAgICAgICAgbGV0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIilcbiAgICAgICAgc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJBZGQgY29udGFjdFwiXG4gICAgICAgIHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUgPSAoXCJjbGFzc1wiLCBcImNvbnRhY3RTYXZlXCIpXG5cbiAgICAgICAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZUFkZE5ld0NvbnRhY3QpXG5cbiAgICAgICAgbGV0IGNvbnRhY3RGb3JtRnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KClcbiAgICAgICAgY29udGFjdEZvcm1GcmFnbWVudC5hcHBlbmRDaGlsZChmb3JtSGVhZGVyKVxuICAgICAgICBjb250YWN0Rm9ybUZyYWdtZW50LmFwcGVuZENoaWxkKGNvbnRhY3ROYW1lRmllbGQpXG4gICAgICAgIGNvbnRhY3RGb3JtRnJhZ21lbnQuYXBwZW5kQ2hpbGQoY29udGFjdEFkZHJlc3NGaWVsZClcbiAgICAgICAgY29udGFjdEZvcm1GcmFnbWVudC5hcHBlbmRDaGlsZChjb250YWN0TnVtYmVyRmllbGQpXG4gICAgICAgIGNvbnRhY3RGb3JtRnJhZ21lbnQuYXBwZW5kQ2hpbGQoc3VibWl0QnV0dG9uKVxuXG4gICAgICAgIGxldCBmb3JtQXJ0aWNsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKVxuICAgICAgICBmb3JtQXJ0aWNsZS5hcHBlbmRDaGlsZChjb250YWN0Rm9ybUZyYWdtZW50KVxuICAgIH0sXG5cbiAgICBoYW5kbGVBZGROZXdDb250YWN0KGV2ZW50KSB7XG4gICAgICAgIGxldCBpbnB1dENvbnRhY3ROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb250YWN0TmFtZVwiKS52YWx1ZVxuICAgICAgICBsZXQgaW5wdXRDb250YWN0QWRkcmVzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29udGFjdEFkZHJlc3NcIikudmFsdWVcbiAgICAgICAgbGV0IGlucHV0Q29udGFjdE51bWJlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29udGFjdE51bWJlclwiKS52YWx1ZVxuXG4gICAgICAgIGxldCBuZXdDb250YWN0ID0ge1xuICAgICAgICAgICAgbmFtZTogaW5wdXRDb250YWN0TmFtZSxcbiAgICAgICAgICAgIGFkZHJlc3M6IGlucHV0Q29udGFjdEFkZHJlc3MsXG4gICAgICAgICAgICBudW1iZXI6IGlucHV0Q29udGFjdE51bWJlclxuICAgICAgICB9XG5cbiAgICAgICAgY29udGFjdENvbGxlY3Rpb24ucG9zdE5ld0NvbnRhY3QobmV3Q29udGFjdClcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbnRhY3RGb3JtIiwiaW1wb3J0IGNvbnRhY3RDb2xsZWN0aW9uIGZyb20gXCIuL2NvbnRhY3RDb2xsZWN0aW9uXCJcbmltcG9ydCBjb250YWN0IGZyb20gXCIuL2NvbnRhY3RzXCJcblxuY29uc3QgY29udGFjdExpc3QgPSB7XG4gICAgY29udGFjdGlmeSgpIHtcblxuICAgICAgICBjb250YWN0Q29sbGVjdGlvbi5nZXRBbGxDb250YWN0cygpXG4gICAgICAgICAgICAudGhlbihhbGxDb250YWN0cyA9PiB7XG5cbiAgICAgICAgICAgICAgICBsZXQgY29udGFjdERvY0ZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpXG5cbiAgICAgICAgICAgICAgICBhbGxDb250YWN0cy5mb3JFYWNoKGNvbnRhY3RJdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRhY3RIdG1sID0gY29udGFjdC5jb250YWN0QnVpbGRlcihjb250YWN0SXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhY3REb2NGcmFnbWVudC5hcHBlbmRDaGlsZChjb250YWN0SHRtbClcblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbGV0IG91dHB1dEFydGljbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm91dHB1dFwiKVxuICAgICAgICAgICAgICAgIG91dHB1dEFydGljbGUuYXBwZW5kQ2hpbGQoY29udGFjdERvY0ZyYWdtZW50KVxuXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbnRhY3RMaXN0IiwiY29uc3QgY29udGFjdCA9IHtcblxuICAgIGNvbnRhY3RCdWlsZGVyKGNvbnRhY3RPYmplY3QpIHtcbiAgICAgICAgbGV0IGNvbnRhY3RBcnRpY2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFydGljbGVcIik7XG5cbiAgICAgICAgbGV0IGNvbnRhY3ROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgICAgICBjb250YWN0TmFtZS50ZXh0Q29udGVudCA9IGNvbnRhY3RPYmplY3QubmFtZVxuXG4gICAgICAgIGxldCBjb250YWN0QWRkcmVzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICBjb250YWN0QWRkcmVzcy50ZXh0Q29udGVudCA9IGNvbnRhY3RPYmplY3QuYWRkcmVzc1xuXG4gICAgICAgIGxldCBjb250YWN0TnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIGNvbnRhY3ROdW1iZXIudGV4dENvbnRlbnQgPSBjb250YWN0T2JqZWN0Lm51bWJlclxuXG4gICAgICAgIGNvbnRhY3RBcnRpY2xlLmFwcGVuZENoaWxkKGNvbnRhY3ROYW1lKTtcbiAgICAgICAgY29udGFjdEFydGljbGUuYXBwZW5kQ2hpbGQoY29udGFjdEFkZHJlc3MpO1xuICAgICAgICBjb250YWN0QXJ0aWNsZS5hcHBlbmRDaGlsZChjb250YWN0TnVtYmVyKTtcblxuICAgICAgICByZXR1cm4gY29udGFjdEFydGljbGVcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbnRhY3QiLCJpbXBvcnQgY29udGFjdExpc3QgZnJvbSBcIi4vY29udGFjdExpc3RcIlxuaW1wb3J0IGNvbnRhY3RGb3JtIGZyb20gXCIuL2NvbnRhY3RGb3JtXCJcblxuY29udGFjdExpc3QuY29udGFjdGlmeSgpXG5jb250YWN0Rm9ybS5jcmVhdGVBbmRBcHBlbmRGb3JtKCkiXX0=
